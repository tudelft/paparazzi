<?xml version="1.0"?>
<!--
    This is the JSBSim config file for a PA34-200T SenecaII.
    The aerodynamics sections was generated by datcom using
    as much real input as available.

    Changes from datcom.xml

    - function attribute NAME must be lowercase
    - missing function Delta_lift_due_to_flap_deflection in axis LIFT
    - missing function Lift_due_to_Elevator_Deflection in axis LIFT
-->
<?xml-stylesheet href="JSBSim.xsl" type="application/xml"?>
<fdm_config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="file:/home/torsten/FlightGear/Aircraft/SenecaII/JSBSim.xsd"
    name="Eclipson_rotorcraft" version="2.0" release="BETA">

    <fileheader>
        <author>S. Hwang</author>
        <filecreationdate>01-09-2021</filecreationdate>
        <description>Eclipson_rotorcraft</description>
        <reference title="Eclipson_rotorcraft"/>
    </fileheader>

    <!-- **********************************************************************
        METRICS
        ********************************************************************** -->

    <metrics>
        <wingarea unit="FT2">        1.9375  </wingarea>
        <wingspan unit="FT">         3.60892  </wingspan>
        <chord unit="FT">             0.536864  </chord>
        <htailarea unit="FT2">        0.  </htailarea>
        <htailarm unit="FT">          0.  </htailarm>
        <vtailarea unit="FT2">        0.  </vtailarea>
        <vtailarm unit="FT">          0.  </vtailarm>
<!--        <htailarea unit="FT2">        .4457  </htailarea>-->
<!--        <htailarm unit="FT">          .4280  </htailarm>-->
<!--        <vtailarea unit="FT2">        .1606  </vtailarea>-->
<!--        <vtailarm unit="FT">          .7127  </vtailarm>-->
        <wing_incidence unit="DEG"> 90 </wing_incidence>
<!--        TODO: AERORP-->
        <location name="AERORP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> -4.3 </z>
        </location>
        <location name="EYEPOINT" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
        <location name="VRP" unit="IN">
            <x> 0 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </metrics>

    <mass_balance>
<!--        <ixx unit="SLUG*FT2"> 0.059 </ixx>-->
<!--        <iyy unit="SLUG*FT2"> 0.002465 </iyy>-->
<!--        <izz unit="SLUG*FT2"> 0.07869 </izz>-->
        <ixz unit="SLUG*FT2"> 0.0 </ixz>
        <ixx unit="SLUG*FT2"> 0.009585 </ixx>
        <iyy unit="SLUG*FT2"> 0.008499 </iyy>
        <izz unit="SLUG*FT2"> 0.0172 </izz>
        <emptywt unit="LBS"> 1.54 </emptywt>
        <!-- the center of gravity -->
        <location name="CG" unit="IN">
            <x> 0.0 </x>
            <y> 0.0 </y>
            <z> -4.3 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="STRUCTURE" name="CONTACT_FRONT">
            <location unit="M">
                <x>-0.15 </x>
                <y> 0 </y>
                <z>0. </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <spring_coeff unit="N/M"> 500 </spring_coeff>
            <damping_coeff unit="N/M/SEC"> 100 </damping_coeff>
            <damping_coeff_rebound type="SQUARE" unit="N/M2/SEC2"> 1000 </damping_coeff_rebound>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>

        <contact type="STRUCTURE" name="CONTACT_BACK">
            <location unit="M">
                <x> 0.15</x>
                <y> 0   </y>
                <z>0. </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <spring_coeff unit="N/M"> 500 </spring_coeff>
            <damping_coeff unit="N/M/SEC"> 100 </damping_coeff>
            <damping_coeff_rebound type="SQUARE" unit="N/M2/SEC2"> 1000 </damping_coeff_rebound>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>

        <contact type="STRUCTURE" name="CONTACT_RIGHT">
            <location unit="M">
                <x> 0.  </x>
                <y> 0.15</y>
                <z>0. </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <spring_coeff unit="N/M"> 500 </spring_coeff>
            <damping_coeff unit="N/M/SEC"> 100 </damping_coeff>
            <damping_coeff_rebound type="SQUARE" unit="N/M2/SEC2"> 1000 </damping_coeff_rebound>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>

        <contact type="STRUCTURE" name="CONTACT_LEFT">
            <location unit="M">
                <x> 0.  </x>
                <y>-0.15</y>
                <z>0. </z>
            </location>
            <static_friction>  0.8 </static_friction>
            <dynamic_friction> 0.5 </dynamic_friction>
            <spring_coeff unit="N/M"> 500 </spring_coeff>
            <damping_coeff unit="N/M/SEC"> 100 </damping_coeff>
            <damping_coeff_rebound type="SQUARE" unit="N/M2/SEC2"> 1000 </damping_coeff_rebound>
            <max_steer unit="DEG"> 0.0 </max_steer>
            <brake_group> NONE </brake_group>
            <retractable>0</retractable>
        </contact>
    </ground_reactions>

    <!-- **********************************************************************
        PROPULSION
        ********************************************************************** -->
    <propulsion/>

    <!-- **********************************************************************
        FLIGHT CONTROLS
        ********************************************************************** -->
    <flight_control name="actuator_dynamics">
        <channel name="filtering">

            <!--First order filter represents actuator dynamics-->
            <lag_filter name="ail_left_lag">
                <input> fcs/ail_left </input>
                <c1> 54 </c1>
                <output> fcs/ail_left_lag</output>
            </lag_filter>
            <lag_filter name="ail_right_lag">
                <input> fcs/ail_right </input>
                <c1> 54 </c1>
                <output> fcs/ail_right_lag</output>
            </lag_filter>
            <lag_filter name="ele_lag">
                <input> fcs/ele </input>
                <c1> 54 </c1>
                <output> fcs/ele_lag</output>
            </lag_filter>
            <lag_filter name="rud_lag">
                <input> fcs/rud </input>
                <c1> 54 </c1>
                <output> fcs/rud_lag</output>
            </lag_filter>
            <lag_filter name="mot_lag">
                <input> fcs/mot </input>
                <c1> 31.7 </c1>
                <output> fcs/mot_lag</output>
            </lag_filter>
        </channel>
    </flight_control>

    <external_reactions>
        <property>fcs/mot</property>
        <property>fcs/mot_lag</property>

        <property>fcs/ail_left</property>
        <property>fcs/ail_left_lag</property>

        <property>fcs/ele</property>
        <property>fcs/ele_lag</property>

        <property>fcs/rud</property>
        <property>fcs/rud_lag</property>

        <property>fcs/ail_right</property>
        <property>fcs/ail_right_lag</property>

        <!-- First the lift forces produced by each propeller -->

        <force name="mot" frame="BODY" unit="LBS">
            <function>
                <product>
                    <property>fcs/mot_lag</property>
                    <value> 1.55 </value>
                </product>
            </function>
            <location unit="IN">
                <x>0</x>
                <y>0</y>
                <z>0</z>
            </location>
            <direction>
                <x>0</x>
                <y>0</y>
                <z>-1</z>
            </direction>
        </force>

        <!--Yaw moments-->

    </external_reactions>

    <flight_control name="FGFCS"/>


    <!--<aerodynamics file="Datcom/datcom_aero.xml"/>-->
    <aerodynamics file="Systems/aerodynamics_eclipson.xml"/>
</fdm_config>
