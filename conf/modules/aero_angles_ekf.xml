<!DOCTYPE module SYSTEM "module.dtd">

<module name="aero_angles_ekf" dir="aero_angles">
    <doc>
        <description>
            FOR ROTWING 7kg DRONE ONLY

            EKF that tracks angle of attack and sideslip 
            &lt;call fun="sys_id_doublet_add_values(autopilot_get_motors_on(),FALSE,values)"/&gt;
        </description>
    </doc>

    <settings>
        <dl_settings name="Aero angles EKF">
            <dl_settings name="AOA_AOS_EKF">
                <dl_setting min="0"    max="1"    step="1" values="Inactive|Active" shortname="Reset" var="reset_ekf" type="uint8_t"/>
                <dl_setting min="0"    max="1"    step="1" values="Inactive|Active" shortname="Set covariances" var="set_Q_R" type="uint8_t"/>
                <dl_setting min="0"    max="0.1"    step="0.0001" shortname="Q_diag" var="Q_diag" type="float"/>
                <dl_setting min="0"    max="1"    step="0.001" shortname="R_diag" var="R_diag" type="float"/>
            </dl_settings>
        </dl_settings>
    </settings>

    <header>
        <file name="aero_angles_ekf.h"/>
    </header>

    <init fun="ekf_aoa_aos_init()"/>
    <periodic fun="ekf_aoa_aos_periodic()" freq="30" autorun="TRUE"/>

    <makefile>
        <file name="aero_angles_ekf.c"/>
    </makefile>
</module>
