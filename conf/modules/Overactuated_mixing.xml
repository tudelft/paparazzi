<!DOCTYPE module SYSTEM "module.dtd">

<module name="Overactuated_mixing" dir="Overactuated_vehicle">
  <doc>
    <description>Overactuated Vehicle Mixing</description>
  </doc>


  <settings>
    <dl_settings>
      <dl_settings NAME="General overact">
        <dl_setting var="wind_speed"  min="0" step="1" max="20" shortname="wind_speed" />
        <dl_setting var="activate_tilting_az" min="0" step="1" max="1" shortname="tilt_az_active" values="FALSE|TRUE" />
        <dl_setting var="activate_tilting_el" min="0" step="1" max="1" shortname="tilt_el_active" values="FALSE|TRUE" />
        <dl_setting var="yaw_with_tilting" min="0" step="1" max="1" shortname="use_tilt_to_yaw" values="FALSE|TRUE" />
        <dl_setting var="yaw_with_motors" min="0" step="1" max="1" shortname="use_motor_to_yaw" values="FALSE|TRUE" />

        <dl_setting var="soft_PID" min="0" step="1" max="1" shortname="soft_PID" values="FALSE|TRUE" />

        <dl_setting var="position_with_attitude" min="0" step="1" max="1" shortname="out_loop_pos" values="FALSE|TRUE" />
        <dl_setting var="manual_motor_stick" min="0" step="1" max="1" shortname="manual_motor_stick" values="FALSE|TRUE" />

        <dl_setting var="static_tilt_motor_for_yaw" min="0" step="1" max="1" shortname="static_tilt_motor" values="FALSE|TRUE" />
        <dl_setting var="static_tilt_angle" min="0" step="3" max="15" shortname="static_tilt_angle"/>

        <dl_setting var="manual_heading" min="0" step="1" max="1" shortname="manual_heading" values="FALSE|TRUE" />
        <dl_setting var="manual_heading_value_rad" min="0" step="1" max="2" shortname="heading_rad"/>

        <dl_setting var="stick_gain_yaw"  min="0" step=".01" max="1" shortname="Stick gain yaw" />
        <dl_setting var="stick_gain_throttle"  min="0" step=".01" max="1" shortname="Stick gain thr" />

      </dl_settings>
    </dl_settings>
  </settings>

  <settings>
    <dl_settings>
      <dl_settings NAME="PID overact">

        <dl_setting var="pid_gains_over.p.phi" min="0" step="1" max="1200" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_P_GAIN_PHI" shortname="PID_kp_roll" persistent="true"/>
        <dl_setting var="pid_gains_over.i.phi" min="0" step=".1" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_I_GAIN_PHI" shortname="PID_ki_roll" persistent="true"/>
        <dl_setting var="pid_gains_over.d.phi" min="0" step="1" max="300" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_D_GAIN_PHI" shortname="PID_kd_roll" persistent="true"/>

        <dl_setting var="pid_gains_over.p.theta" min="0" step="1" max="1200"  module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_P_GAIN_THETA" shortname="PID_kp_pitch" persistent="true"/>
        <dl_setting var="pid_gains_over.i.theta" min="0" step=".1" max="50" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_I_GAIN_THETA" shortname="PID_ki_pitch" persistent="true"/>
        <dl_setting var="pid_gains_over.d.theta" min="0" step="1" max="300" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_D_GAIN_THETA" shortname="PID_kd_pitch" persistent="true"/>

        <dl_setting var="pid_gains_over.p.psi" min="0" step=".1" max="400" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_P_GAIN_PSI" shortname="tilt_kp_yaw" persistent="true"/>
        <dl_setting var="pid_gains_over.i.psi" min="0" step=".1" max="20" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_I_GAIN_PSI" shortname="tilt_ki_yaw" persistent="true"/>
        <dl_setting var="pid_gains_over.d.psi" min="0" step=".1" max="200" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_D_GAIN_PSI" shortname="tilt_kd_yaw" persistent="true"/>

        <dl_setting var="pid_gain_psi_motor.p" min="0" step="1" max="3000" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_P_GAIN_PSI_MOTOR" shortname="motor_kp_yaw" persistent="true"/>
        <dl_setting var="pid_gain_psi_motor.i" min="0" step="1" max="100" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_I_GAIN_PSI_MOTOR" shortname="motor_ki_yaw" persistent="true"/>
        <dl_setting var="pid_gain_psi_motor.d" min="0" step="1" max="1000" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_D_GAIN_PSI_MOTOR" shortname="motor_kd_yaw" persistent="true"/>

        <dl_setting var="pid_gains_over.p.x" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_P_GAIN_POS_X_TILT" shortname="PID_kp_x" persistent="true"/>
        <dl_setting var="pid_gains_over.i.x" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_I_GAIN_POS_X_TILT" shortname="PID_ki_x" persistent="true"/>
        <dl_setting var="pid_gains_over.d.x" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_D_GAIN_POS_X_TILT" shortname="PID_kd_x" persistent="true"/>

        <dl_setting var="pid_gains_over.p.y" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_P_GAIN_POS_Y_TILT" shortname="PID_kp_y" persistent="true"/>
        <dl_setting var="pid_gains_over.i.y" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_I_GAIN_POS_Y_TILT" shortname="PID_ki_y" persistent="true"/>
        <dl_setting var="pid_gains_over.d.y" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_D_GAIN_POS_Y_TILT" shortname="PID_kd_y" persistent="true"/>

        <dl_setting var="pid_pos_x_att.p" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_P_GAIN_POS_X_ATT" shortname="kp_x_att" persistent="true"/>
        <dl_setting var="pid_pos_x_att.i" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_I_GAIN_POS_X_ATT" shortname="ki_x_att" persistent="true"/>
        <dl_setting var="pid_pos_x_att.d" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_D_GAIN_POS_X_ATT" shortname="kd_x_att" persistent="true"/>

        <dl_setting var="pid_pos_y_att.p" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_P_GAIN_POS_Y_ATT" shortname="kp_y_att" persistent="true"/>
        <dl_setting var="pid_pos_y_att.i" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_I_GAIN_POS_Y_ATT" shortname="ki_y_att" persistent="true"/>
        <dl_setting var="pid_pos_y_att.d" min="0" step=".01" max="5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_D_GAIN_POS_Y_ATT" shortname="kd_y_att" persistent="true"/>

        <dl_setting var="pid_gains_over.p.z" min="0" step="1" max="1500" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_P_GAIN_POS_Z" shortname="PID_kp_z" persistent="true"/>
        <dl_setting var="pid_gains_over.i.z" min="0" step="1" max="500" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_I_GAIN_POS_Z" shortname="PID_ki_z" persistent="true"/>
        <dl_setting var="pid_gains_over.d.z" min="0" step="1" max="1000" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_PID_D_GAIN_POS_Z" shortname="PID_kd_z" persistent="true"/>

      </dl_settings>
    </dl_settings>
  </settings>

  <settings>
    <dl_settings>
      <dl_settings NAME="INDI overact">
        <dl_setting var="indi_gains_over.p.phi" min="0" step=".001" max="30" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_ERR_P" shortname="INDI_kp_roll" persistent="true"/>
        <dl_setting var="indi_gains_over.d.phi" min="0" step=".001" max="30" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_RATE_P" shortname="INDI_kd_roll" persistent="true"/>

        <dl_setting var="indi_gains_over.p.theta" min="0" step=".001" max="30" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_ERR_Q" shortname="INDI_kp_pitch" persistent="true"/>
        <dl_setting var="indi_gains_over.d.theta" min="0" step=".001" max="30" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_ERR_Q" shortname="INDI_kd_pitch" persistent="true"/>

        <dl_setting var="indi_gains_over.p.psi" min="0" step=".001" max="10" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_ERR_R" shortname="INDI_kp_yaw" persistent="true"/>
        <dl_setting var="indi_gains_over.d.psi" min="0" step=".001" max="10" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_ERR_R" shortname="INDI_kd_yaw" persistent="true"/>

        <dl_setting var="indi_gains_over.p.x" min="0" step=".001" max="10" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_ERR_X" shortname="INDI_kp_x" persistent="true"/>
        <dl_setting var="indi_gains_over.d.x" min="0" step=".001" max="10" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_RATE_X" shortname="INDI_kd_x" persistent="true"/>

        <dl_setting var="indi_gains_over.p.y" min="0" step=".001" max="10" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_ERR_Y" shortname="INDI_kp_y" persistent="true"/>
        <dl_setting var="indi_gains_over.d.y" min="0" step=".001" max="10" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_RATE_Y" shortname="INDI_kd_y" persistent="true"/>

        <dl_setting var="indi_gains_over.p.z" min="0" step=".001" max="30" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_ERR_Z" shortname="INDI_kp_z" persistent="true"/>
        <dl_setting var="indi_gains_over.d.z" min="0" step=".001" max="30" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_REF_RATE_Z" shortname="INDI_kd_z" persistent="true"/>

        <dl_setting var="act_dyn_struct.motor" min="0" step=".001" max=".5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_ACT_DYN_MOTOR" shortname="act_dyn_thr" persistent="true"/>
        <dl_setting var="act_dyn_struct.elevation" min="0" step=".001" max=".5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_ACT_DYN_EL" shortname="act_dyn_el" persistent="true"/>
        <dl_setting var="act_dyn_struct.azimuth" min="0" step=".001" max=".5" module="Overactuated_vehicle/Overactuated_mixing" param="OVERACTUATED_MIXING_INDI_ACT_DYN_AZ" shortname="ect_dyn_az" persistent="true"/>

      </dl_settings>
    </dl_settings>
  </settings>


  <header>
    <file name="Overactuated_mixing.h"/>
  </header>
  <init fun="overactuated_mixing_init()"/>
  <makefile>
    <file name="Overactuated_mixing.c"/>
    <file name="wls_alloc.c" dir="$(SRC_FIRMWARE)/stabilization/wls"/>
    <file name="qr_solve.c" dir="math/qr_solve"/>
    <file name="r8lib_min.c" dir="math/qr_solve"/>
    <define name="CA_N_V" value="6" />
    <define name="CA_N_U" value="14" />
  </makefile>
</module>

